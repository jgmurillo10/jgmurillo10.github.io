{"version":3,"file":"component---src-templates-post-jsx-d5e9ffa2a40dae3ec32d.js","mappings":"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","sources":["webpack://jgmurillo10/./src/templates/post.jsx"],"sourcesContent":["import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport { graphql } from \"gatsby\"\nimport { PrismicRichText } from \"@prismicio/react\"\nimport styled from \"@emotion/styled\"\nimport colors from \"styles/colors\"\nimport Layout from \"components/Layout\"\nimport Newsletter from \"../components/_ui/Newsletter\"\nimport { useUpdateLanguage } from \"../hooks/useUpdateLanguage\"\nimport { useIntl } from \"gatsby-plugin-intl\";\nimport { Head as HeadBase } from \"../components/Head\";\n\nconst PostHeroContainer = styled(\"div\")`\n  max-height: 500px;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  margin-bottom: 3em;\n\n  img {\n    width: 100%;\n  }\n`\n\nconst PostHeroAnnotation = styled(\"div\")`\n  padding-top: 0.25em;\n\n  h6 {\n    text-align: right;\n    color: ${colors.grey600};\n    font-weight: 400;\n    font-size: 0.85rem;\n  }\n\n  a {\n    color: currentColor;\n  }\n`\n\nconst PostCategory = styled(\"div\")`\n  max-width: 550px;\n  margin: 0 auto;\n  text-align: center;\n  font-weight: 600;\n  color: ${colors.grey600};\n\n  h5 {\n    margin-top: 0;\n    margin-bottom: 1em;\n  }\n`\n\nconst PostTitle = styled(\"div\")`\n  margin: 0 auto;\n  text-align: center;\n\n  h1 {\n    margin-top: 0;\n  }\n`\n\nconst PostBody = styled(\"div\")`\n  max-width: 768px;\n  margin: 0 auto;\n\n  .block-img {\n    margin-top: 3.5em;\n    margin-bottom: 0.5em;\n\n    img {\n      width: 100%;\n    }\n  }\n`\n\nconst PostMetas = styled(\"div\")`\n  max-width: 550px;\n  margin: 0 auto;\n  display: flex;\n  align-items: center;\n  margin-bottom: 2em;\n  justify-content: space-between;\n  font-size: 0.85em;\n  color: ${colors.grey600};\n`\n\nconst PostAuthor = styled(\"div\")`\n  margin: 0;\n`\n\nconst PostDate = styled(\"div\")`\n  margin: 0;\n`\n\nexport const Head = ({ data, location }) => {\n  const { language } = useUpdateLanguage({ doc: data.prismicPost, location })\n  const fallbackPost = data.allPrismicPost.edges[0].node.data\n  const postContent = data.allPrismicPost.edges.find(edge => edge.node.lang === language.current)?.node.data || fallbackPost;\n\n  return (\n    <HeadBase\n      title={postContent.post_title.text + ' | Blog | Juan Murillo'}\n      description={postContent.post_preview_description.text}\n      image={postContent.post_meta_image.url}\n    />\n  )\n}\n\nconst Post = ({ post }) => {\n  const { formatMessage } = useIntl();\n  return (\n    <Layout>\n      <PostCategory><PrismicRichText field={post.post_category.richText} /></PostCategory>\n      <PostTitle><PrismicRichText field={post.post_title.richText} /></PostTitle>\n      <PostMetas>\n        <PostAuthor>{post.post_author}</PostAuthor>\n        <PostDate>\n          {post.post_date}\n        </PostDate>\n      </PostMetas>\n      {post.post_hero_image && (\n        <PostHeroContainer>\n          <img src={post.post_hero_image.url} alt=\"bees\" />\n          <PostHeroAnnotation>\n            <PrismicRichText field={post.post_hero_annotation.richText} />\n          </PostHeroAnnotation>\n        </PostHeroContainer>\n      )}\n      <PostBody><PrismicRichText field={post.post_body.richText} /></PostBody>\n      <Newsletter\n        body={formatMessage({ id: \"newsletter\" })}\n      />\n    </Layout>\n  )\n}\n\nconst Component = ({ data, location }) => {\n  const { language } = useUpdateLanguage({ doc: data.prismicPost, location })\n  const postContent = data.allPrismicPost.edges.find(edge => edge.node.lang === language.current)?.node.data;\n\n  return <Post post={postContent || data.allPrismicPost.edges[0].node.data} />\n}\n\nexport default Component;\n\nPost.propTypes = {\n  post: PropTypes.object.isRequired,\n}\n\nexport const query = graphql`\n  query PostQuery($uid: String) {\n    allPrismicPost(filter: { uid: { eq: $uid } }) {\n      edges {\n        node {\n          id\n          uid\n          lang\n          alternate_languages {\n            lang\n            document {\n              ... on PrismicPost {\n                url\n              }\n            }\n          }\n          data {\n            post_author\n            post_title {\n              richText\n              text\n            }\n            post_hero_annotation {\n              richText\n            }\n            post_hero_image {\n              url\n            }\n            post_meta_image {\n              url\n            }\n            post_date(fromNow: true)\n            post_category {\n              richText\n            }\n            post_preview_description {\n              text\n            }\n            post_body {\n              richText\n              text\n            }\n          }\n        }\n      }\n    }\n  }\n`\n"],"names":["PostHeroContainer","_styled","target","name","styles","PostHeroAnnotation","colors","grey600","PostCategory","PostTitle","PostBody","PostMetas","PostAuthor","PostDate","Head","_ref","_data$allPrismicPost$","data","location","language","useUpdateLanguage","doc","prismicPost","fallbackPost","allPrismicPost","edges","node","postContent","find","edge","lang","current","___EmotionJSX","HeadBase","title","post_title","text","description","post_preview_description","image","post_meta_image","url","Post","_ref2","post","formatMessage","useIntl","Layout","PrismicRichText","field","post_category","richText","post_author","post_date","post_hero_image","src","alt","post_hero_annotation","post_body","Newsletter","body","id","_ref3","_data$allPrismicPost$2"],"sourceRoot":""}